{
  "org_name": "CloudSmith-Release-Safety",
  "repo_name": "pet_clinic_insurance_service",
  "repo_url": "https://github.com/CloudSmith-Release-Safety/pet_clinic_insurance_service",
  "provided_apis": [
    {
      "type": "rest",
      "endpoint": "/insurances",
      "method": "GET",
      "service_name": "InsuranceService",
      "description": "Retrieves a list of all available insurance plans",
      "file_path": "pet_clinic_insurance_service/service/views.py",
      "parameters": {},
      "responses": {
        "200": {
          "description": "List of insurance plans",
          "content_type": "application/json",
          "schema": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": "integer",
                "name": "string",
                "description": "string",
                "price": "decimal"
              }
            }
          }
        },
        "404": {
          "description": "No insurance records found",
          "content_type": "application/json",
          "schema": {
            "type": "object",
            "properties": {
              "error": "string",
              "message": "string"
            }
          }
        }
      }
    },
    {
      "type": "rest",
      "endpoint": "/insurances/{id}",
      "method": "GET",
      "service_name": "InsuranceService",
      "description": "Retrieves a specific insurance plan by ID",
      "file_path": "pet_clinic_insurance_service/service/views.py",
      "parameters": {
        "path": [
          {
            "name": "id",
            "type": "integer",
            "required": true,
            "description": "Unique identifier of the insurance plan"
          }
        ]
      },
      "responses": {
        "200": {
          "description": "Insurance plan details",
          "content_type": "application/json",
          "schema": {
            "type": "object",
            "properties": {
              "id": "integer",
              "name": "string",
              "description": "string",
              "price": "decimal"
            }
          }
        },
        "404": {
          "description": "Insurance plan not found",
          "content_type": "application/json"
        }
      }
    },
    {
      "type": "rest",
      "endpoint": "/insurances",
      "method": "POST",
      "service_name": "InsuranceService",
      "description": "Creates a new insurance plan",
      "file_path": "pet_clinic_insurance_service/service/views.py",
      "parameters": {
        "body": {
          "type": "object",
          "required": true,
          "description": "Insurance plan details",
          "properties": {
            "name": {
              "type": "string",
              "required": true,
              "description": "Name of the insurance plan"
            },
            "description": {
              "type": "string",
              "required": true,
              "description": "Description of the insurance plan"
            },
            "price": {
              "type": "decimal",
              "required": true,
              "description": "Price of the insurance plan"
            }
          }
        }
      },
      "responses": {
        "201": {
          "description": "Insurance plan created successfully",
          "content_type": "application/json",
          "schema": {
            "type": "object",
            "properties": {
              "id": "integer",
              "name": "string",
              "description": "string",
              "price": "decimal"
            }
          }
        },
        "400": {
          "description": "Invalid request data",
          "content_type": "application/json"
        }
      }
    },
    {
      "type": "rest",
      "endpoint": "/insurances/{id}",
      "method": "PUT",
      "service_name": "InsuranceService",
      "description": "Updates an existing insurance plan",
      "file_path": "pet_clinic_insurance_service/service/views.py",
      "parameters": {
        "path": [
          {
            "name": "id",
            "type": "integer",
            "required": true,
            "description": "Unique identifier of the insurance plan"
          }
        ],
        "body": {
          "type": "object",
          "required": true,
          "description": "Updated insurance plan details",
          "properties": {
            "name": {
              "type": "string",
              "required": false,
              "description": "Name of the insurance plan"
            },
            "description": {
              "type": "string",
              "required": false,
              "description": "Description of the insurance plan"
            },
            "price": {
              "type": "decimal",
              "required": false,
              "description": "Price of the insurance plan"
            }
          }
        }
      },
      "responses": {
        "200": {
          "description": "Insurance plan updated successfully",
          "content_type": "application/json",
          "schema": {
            "type": "object",
            "properties": {
              "id": "integer",
              "name": "string",
              "description": "string",
              "price": "decimal"
            }
          }
        },
        "400": {
          "description": "Invalid request data",
          "content_type": "application/json"
        },
        "404": {
          "description": "Insurance plan not found",
          "content_type": "application/json"
        }
      }
    },
    {
      "type": "rest",
      "endpoint": "/insurances/{id}",
      "method": "DELETE",
      "service_name": "InsuranceService",
      "description": "Deletes an insurance plan",
      "file_path": "pet_clinic_insurance_service/service/views.py",
      "parameters": {
        "path": [
          {
            "name": "id",
            "type": "integer",
            "required": true,
            "description": "Unique identifier of the insurance plan"
          }
        ]
      },
      "responses": {
        "204": {
          "description": "Insurance plan deleted successfully"
        },
        "404": {
          "description": "Insurance plan not found",
          "content_type": "application/json"
        }
      }
    },
    {
      "type": "rest",
      "endpoint": "/pet-insurances",
      "method": "GET",
      "service_name": "InsuranceService",
      "description": "Retrieves a list of all pet insurance records",
      "file_path": "pet_clinic_insurance_service/service/views.py",
      "parameters": {},
      "responses": {
        "200": {
          "description": "List of pet insurance records",
          "content_type": "application/json",
          "schema": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": "integer",
                "pet_id": "integer",
                "insurance_id": "integer",
                "insurance_name": "string",
                "price": "decimal"
              }
            }
          }
        }
      }
    },
    {
      "type": "rest",
      "endpoint": "/pet-insurances/{pet_id}",
      "method": "GET",
      "service_name": "InsuranceService",
      "description": "Retrieves insurance information for a specific pet",
      "file_path": "pet_clinic_insurance_service/service/views.py",
      "parameters": {
        "path": [
          {
            "name": "pet_id",
            "type": "integer",
            "required": true,
            "description": "Unique identifier of the pet"
          }
        ]
      },
      "responses": {
        "200": {
          "description": "Pet insurance details",
          "content_type": "application/json",
          "schema": {
            "type": "object",
            "properties": {
              "id": "integer",
              "pet_id": "integer",
              "insurance_id": "integer",
              "insurance_name": "string",
              "price": "decimal"
            }
          }
        },
        "404": {
          "description": "Pet insurance not found",
          "content_type": "application/json"
        }
      }
    },
    {
      "type": "rest",
      "endpoint": "/pet-insurances",
      "method": "POST",
      "service_name": "InsuranceService",
      "description": "Creates a new pet insurance record and generates billing",
      "file_path": "pet_clinic_insurance_service/service/views.py",
      "parameters": {
        "body": {
          "type": "object",
          "required": true,
          "description": "Pet insurance details",
          "properties": {
            "pet_id": {
              "type": "integer",
              "required": true,
              "description": "Unique identifier of the pet"
            },
            "owner_id": {
              "type": "integer",
              "required": true,
              "description": "Unique identifier of the pet owner"
            },
            "insurance_id": {
              "type": "integer",
              "required": true,
              "description": "Identifier of the insurance plan"
            },
            "insurance_name": {
              "type": "string",
              "required": true,
              "description": "Name of the insurance plan"
            },
            "price": {
              "type": "decimal",
              "required": true,
              "description": "Price of the insurance"
            }
          }
        }
      },
      "responses": {
        "201": {
          "description": "Pet insurance created successfully",
          "content_type": "application/json",
          "schema": {
            "type": "object",
            "properties": {
              "id": "integer",
              "pet_id": "integer",
              "insurance_id": "integer",
              "insurance_name": "string",
              "price": "decimal"
            }
          }
        },
        "400": {
          "description": "Invalid request data",
          "content_type": "application/json"
        }
      }
    },
    {
      "type": "rest",
      "endpoint": "/pet-insurances/{pet_id}",
      "method": "PUT",
      "service_name": "InsuranceService",
      "description": "Updates an existing pet insurance record and regenerates billing",
      "file_path": "pet_clinic_insurance_service/service/views.py",
      "parameters": {
        "path": [
          {
            "name": "pet_id",
            "type": "integer",
            "required": true,
            "description": "Unique identifier of the pet"
          }
        ],
        "body": {
          "type": "object",
          "required": true,
          "description": "Updated pet insurance details",
          "properties": {
            "owner_id": {
              "type": "integer",
              "required": true,
              "description": "Unique identifier of the pet owner"
            },
            "insurance_id": {
              "type": "integer",
              "required": false,
              "description": "Identifier of the insurance plan"
            },
            "insurance_name": {
              "type": "string",
              "required": false,
              "description": "Name of the insurance plan"
            },
            "price": {
              "type": "decimal",
              "required": false,
              "description": "Price of the insurance"
            }
          }
        }
      },
      "responses": {
        "200": {
          "description": "Pet insurance updated successfully",
          "content_type": "application/json",
          "schema": {
            "type": "object",
            "properties": {
              "id": "integer",
              "pet_id": "integer",
              "insurance_id": "integer",
              "insurance_name": "string",
              "price": "decimal"
            }
          }
        },
        "400": {
          "description": "Invalid request data",
          "content_type": "application/json"
        },
        "404": {
          "description": "Pet insurance not found",
          "content_type": "application/json"
        }
      }
    },
    {
      "type": "rest",
      "endpoint": "/pet-insurances/{pet_id}",
      "method": "DELETE",
      "service_name": "InsuranceService",
      "description": "Deletes a pet insurance record",
      "file_path": "pet_clinic_insurance_service/service/views.py",
      "parameters": {
        "path": [
          {
            "name": "pet_id",
            "type": "integer",
            "required": true,
            "description": "Unique identifier of the pet"
          }
        ]
      },
      "responses": {
        "204": {
          "description": "Pet insurance deleted successfully"
        },
        "404": {
          "description": "Pet insurance not found",
          "content_type": "application/json"
        }
      }
    },
    {
      "type": "rest",
      "endpoint": "/health",
      "method": "GET",
      "service_name": "InsuranceService",
      "description": "Health check endpoint to verify service status",
      "file_path": "pet_clinic_insurance_service/service/views.py",
      "parameters": {},
      "responses": {
        "200": {
          "description": "Service is healthy",
          "content_type": "application/json",
          "schema": {
            "type": "object",
            "properties": {
              "message": "string"
            }
          }
        }
      }
    },
    {
      "type": "rest",
      "endpoint": "/create-claim",
      "method": "POST",
      "service_name": "InsuranceService",
      "description": "Creates a new insurance claim in DynamoDB",
      "file_path": "pet_clinic_insurance_service/service/views.py",
      "parameters": {
        "body": {
          "type": "object",
          "required": true,
          "description": "Insurance claim details",
          "properties": {
            "claim_id": {
              "type": "string",
              "required": true,
              "description": "Unique identifier for the claim"
            },
            "owner_id": {
              "type": "string",
              "required": true,
              "description": "Identifier of the pet owner"
            },
            "pet_id": {
              "type": "string",
              "required": true,
              "description": "Identifier of the pet"
            },
            "amount": {
              "type": "decimal",
              "required": true,
              "description": "Claim amount"
            }
          }
        }
      },
      "responses": {
        "201": {
          "description": "Claim created successfully",
          "content_type": "application/json",
          "schema": {
            "type": "object",
            "properties": {
              "claimId": "string",
              "ownerId": "string",
              "petId": "string",
              "amount": "decimal",
              "status": "string"
            }
          }
        },
        "400": {
          "description": "Error creating claim",
          "content_type": "application/json",
          "schema": {
            "type": "object",
            "properties": {
              "error": "string"
            }
          }
        }
      }
    }
  ],
  "consumed_apis": [
    {
      "type": "rest",
      "service": "CustomersService",
      "endpoint": "/owner/{owner_id}",
      "method": "GET",
      "description": "Gets owner information from the customer service",
      "file_path": "pet_clinic_insurance_service/service/rest.py",
      "expected_response": {
        "owner": {
          "id": "integer",
          "name": "string",
          "address": "string",
          "city": "string",
          "telephone": "string"
        }
      }
    },
    {
      "type": "rest",
      "service": "BillingService",
      "endpoint": "/billings/{owner_id}/{pet_id}/{type}",
      "method": "GET",
      "description": "Checks if a billing record exists for a specific pet insurance",
      "file_path": "pet_clinic_insurance_service/service/rest.py",
      "expected_response": {
        "id": "integer",
        "owner_id": "integer",
        "pet_id": "integer",
        "type": "string",
        "type_name": "string",
        "payment": "decimal",
        "status": "string"
      }
    },
    {
      "type": "rest",
      "service": "BillingService",
      "endpoint": "/billings",
      "method": "POST",
      "description": "Creates a new billing record for pet insurance",
      "file_path": "pet_clinic_insurance_service/service/rest.py",
      "request_payload": {
        "owner_id": "integer",
        "type": "string",
        "type_name": "string",
        "pet_id": "integer",
        "payment": "decimal",
        "status": "string"
      }
    },
    {
      "type": "rest",
      "service": "BillingService",
      "endpoint": "/billings/{id}",
      "method": "PUT",
      "description": "Updates an existing billing record for pet insurance",
      "file_path": "pet_clinic_insurance_service/service/rest.py",
      "request_payload": {
        "owner_id": "integer",
        "type": "string",
        "type_name": "string",
        "pet_id": "integer",
        "payment": "decimal",
        "status": "string"
      }
    }
  ]
}